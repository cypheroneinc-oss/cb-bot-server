<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>C Labï½œå€‹æ€§ãƒã‚§ãƒƒã‚¯</title>
<style>
/* ===== Clean Dark UI (cards + choices) ===== */
:root{
  --bg:#0b1020; --card:#101826; --border:#1f2a3a;
  --text:#e6edf5; --sub:#9fb0c6; --accent:#3b82f6; --accent2:#22d3ee;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,"Hiragino Kaku Gothic ProN","Yu Gothic",Meiryo,sans-serif;}
.wrap{max-width:720px;margin:0 auto;padding:18px 14px 28px;}
h1{font-size:20px;margin:6px 2px 14px;text-align:center;letter-spacing:.03em}
.status{font-size:13px;color:var(--sub);text-align:center;margin:0 0 10px}
.section{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:18px;margin:16px 0;box-shadow:0 6px 18px rgba(0,0,0,.25)}
.section h2{font-size:20px;margin:0 0 10px}
.section h3{font-size:18px;margin:0 0 6px}
.section .qsub{color:var(--sub);font-size:14px;margin:0 0 12px}
.row{display:flex;flex-direction:column;gap:12px}
.field{display:flex;flex-direction:column;gap:8px}
label.cap{font-size:14px;color:var(--sub)}
select,input[type="text"]{width:100%;height:44px;border-radius:12px;border:1px solid var(--border);
  background:rgba(255,255,255,.02);color:var(--text);padding:0 12px;outline:none}
select:focus,input[type="text"]:focus{border-color:var(--accent2);box-shadow:0 0 0 3px rgba(34,211,238,.12)}
.choices{display:flex;flex-direction:column;gap:12px}
.choice{display:flex;align-items:center;gap:12px;padding:14px;border:1px solid var(--border);border-radius:14px;
  background:rgba(255,255,255,.02);transition:all .15s ease}
.choice:hover{border-color:var(--accent2);background:rgba(34,211,238,.06)}
.choice input[type="radio"]{appearance:none;width:20px;height:20px;border-radius:50%;border:2px solid var(--sub);position:relative;flex:0 0 auto;outline:none}
.choice input[type="radio"]:checked{border-color:var(--accent)}
.choice input[type="radio"]:checked::after{content:"";position:absolute;inset:3px;border-radius:50%;background:var(--accent)}
.choice .label{font-size:16px;line-height:1.4}
.btn{width:100%;height:50px;border:none;border-radius:14px;font-size:16px;font-weight:700;letter-spacing:.03em}
.btn.primary{background:var(--accent);color:#fff}
.btn.primary:active{transform:translateY(1px);opacity:.95}
#result .card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:18px;margin-top:18px}
#result .ttl{font-size:18px;margin:0 0 8px}
#result h4{font-size:16px;margin:14px 0 6px}
#result .lead{color:var(--sub)}
#result .dots{padding-left:18px;margin:8px 0}
#result .meta{color:var(--sub);font-size:12px;margin-top:10px}
#result .share{display:flex;gap:10px;margin-top:10px}
#result .btn.sub{flex:1;height:44px;background:rgba(255,255,255,.03);color:var(--text);border:1px solid var(--border);border-radius:12px}
.note{color:var(--sub);font-size:12px;margin:8px 2px 0}
</style>
</head>
<body>
  <div class="wrap">
    <h1>C Labï½œå€‹æ€§ãƒã‚§ãƒƒã‚¯</h1>
    <div id="status" class="status">èª­ã¿è¾¼ã¿ä¸­â€¦</div>

    <!-- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« -->
    <section class="section" id="profile">
      <h2>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h2>
      <div class="row">
        <div class="field">
          <label class="cap">æ€§åˆ¥</label>
          <select id="gender" required>
            <option value="" selected>é¸ã‚“ã§ã­</option>
            <option value="male">ç”·æ€§</option>
            <option value="female">å¥³æ€§</option>
            <option value="other">ãã®ä»–</option>
          </select>
        </div>
        <div class="field">
          <label class="cap">å¹´é½¢</label>
          <select id="age" required>
            <option value="" selected>é¸ã‚“ã§ã­</option>
            <!-- 12ã€œ35 ã¯ä¸‹ã®JSã§è‡ªå‹•æŒ¿å…¥ -->
          </select>
        </div>
        <div class="field">
          <label class="cap">MBTIï¼ˆã‚ã‹ã‚Œã°ï¼‰</label>
          <select id="mbti">
            <option value="" selected>æœªå›ç­”</option>
            <option>INTJ</option><option>INTP</option><option>ENTJ</option><option>ENTP</option>
            <option>INFJ</option><option>INFP</option><option>ENFJ</option><option>ENFP</option>
            <option>ISTJ</option><option>ISFJ</option><option>ESTJ</option><option>ESFJ</option>
            <option>ISTP</option><option>ISFP</option><option>ESTP</option><option>ESFP</option>
          </select>
        </div>
      </div>
    </section>

    <!-- Q1 -->
    <section class="section">
      <h3>1. ã¯ã˜ã‚ã‚‹ã¨ãã€è¿‘ã„ã®ã¯ï¼ŸğŸƒâ€â™‚ï¸</h3>
      <div class="choices">
        <label class="choice">
          <input type="radio" name="q1" value="A">
          <span class="label">A. ã¨ã‚Šã‚ãˆãšã‚„ã£ã¦ã¿ã¦ã€èµ°ã‚ŠãªãŒã‚‰ç›´ã™</span>
        </label>
        <label class="choice">
          <input type="radio" name="q1" value="B">
          <span class="label">B. ã¾ãšå…¨ä½“ã‚’ã–ã£ãã‚Šæ±ºã‚ã¦ã‹ã‚‰å‹•ã</span>
        </label>
      </div>
    </section>

    <!-- Q2 -->
    <section class="section">
      <h3>2. è¿·ã£ãŸã‚‰ã€ä½•ã§æ±ºã‚ã‚‹ï¼ŸğŸ’­</h3>
      <div class="choices">
        <label class="choice">
          <input type="radio" name="q2" value="A">
          <span class="label">A. ç›´æ„Ÿãƒ»ãƒ•ã‚£ãƒ¼ãƒªãƒ³ã‚°</span>
        </label>
        <label class="choice">
          <input type="radio" name="q2" value="B">
          <span class="label">B. ç†ç”±ã‚„ãƒ‡ãƒ¼ã‚¿</span>
        </label>
      </div>
    </section>

    <!-- Q3ï¼ˆãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ï¼šãƒ—ãƒ«ãƒ€ã‚¦ãƒ³Ã—3ï¼‰ -->
    <section class="section">
      <h3>3. ã€Œã‚ˆã—ã€ã‚„ã‚‹ãï¼ã€ã®ã‚¹ã‚¤ãƒƒãƒã¯ï¼ŸğŸ”¥ï¼ˆè¤‡æ•°OKï¼ã§ãã‚Œã°é †ä½ï¼‰</h3>
      <div class="row">
        <div class="field">
          <label class="cap">ç¬¬1ä½</label>
          <select id="mot1"><option value="" selected>æœªé¸æŠ</option></select>
        </div>
        <div class="field">
          <label class="cap">ç¬¬2ä½ï¼ˆä»»æ„ï¼‰</label>
          <select id="mot2"><option value="" selected>æœªé¸æŠ</option></select>
        </div>
        <div class="field">
          <label class="cap">ç¬¬3ä½ï¼ˆä»»æ„ï¼‰</label>
          <select id="mot3"><option value="" selected>æœªé¸æŠ</option></select>
        </div>
      </div>
      <p class="note">â€» åŒã˜é …ç›®ã¯é‡è¤‡ã§ãã¾ã›ã‚“ã€‚é¸ã°ãªã„ã¨ã“ã‚ã¯ã€Œæœªé¸æŠã€ã®ã¾ã¾ã§OKã€‚</p>

      <!-- app.js ãŒèª­ã‚€ hidden ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼ˆè‡ªå‹•åŒæœŸï¼‰ -->
      <div id="q3-hidden" style="display:none"></div>
    </section>

    <!-- Q4 -->
    <section class="section">
      <h3>4. ã©ã£ã¡ã®æ–¹ãŒã—ã‚“ã©ã„ï¼ŸğŸ˜“</h3>
      <div class="choices">
        <label class="choice">
          <input type="radio" name="q4" value="A">
          <span class="label">A. ãšã£ã¨ç´°ã‹ãå£å‡ºã—ã•ã‚Œã‚‹</span>
        </label>
        <label class="choice">
          <input type="radio" name="q4" value="B">
          <span class="label">B. ä¸¸æŠ•ã’ã§æ”¾ç½®ã•ã‚Œã‚‹</span>
        </label>
      </div>
    </section>

    <!-- Q5 -->
    <section class="section">
      <h3>5. æ°—æŒã¡ãŒå‹•ã„ãŸã¨ãã€è¿‘ã„ã®ã¯ï¼ŸğŸ«€</h3>
      <div class="choices">
        <label class="choice">
          <input type="radio" name="q5" value="A">
          <span class="label">A. é¡”ã‚„è¨€è‘‰ã«ã™ãå‡ºã‚‹</span>
        </label>
        <label class="choice">
          <input type="radio" name="q5" value="B">
          <span class="label">B. è¡¨ã«ã¯ã‚ã¾ã‚Šå‡ºã•ãªã„</span>
        </label>
      </div>
    </section>

    <!-- Q6 -->
    <section class="section">
      <h3>6. ä¸€ç·’ã«ã„ã¦ãƒ©ã‚¯ãªã®ã¯ï¼ŸğŸ˜Œ</h3>
      <div class="choices">
        <label class="choice">
          <input type="radio" name="q6" value="A">
          <span class="label">A. ãªã‚“ã§ã‚‚ã‚ºãƒãƒƒã¨è¨€ãˆã‚‹ãƒãƒ¼ãƒ </span>
        </label>
        <label class="choice">
          <input type="radio" name="q6" value="B">
          <span class="label">B. ç©ºæ°—ã‚’å¤§äº‹ã«ã™ã‚‹ã¾ã£ãŸã‚Šãƒãƒ¼ãƒ </span>
        </label>
      </div>
    </section>

    <!-- Q7 -->
    <section class="section">
      <h3>7. è‡ªç„¶ã¨å¤šã„å½¹å‰²ã¯ï¼ŸğŸ¤</h3>
      <div class="choices">
        <label class="choice">
          <input type="radio" name="q7" value="A">
          <span class="label">A. ã¿ã‚“ãªã‚’å¼•ã£å¼µã‚‹ãƒªãƒ¼ãƒ€ãƒ¼</span>
        </label>
        <label class="choice">
          <input type="radio" name="q7" value="B">
          <span class="label">B. ã‚µãƒãƒ¼ãƒˆã—ã¦æ”¯ãˆã‚‹</span>
        </label>
      </div>
    </section>

    <!-- Q8 -->
    <section class="section">
      <h3>8. ç†æƒ³ã«è¿‘ã„ã®ã¯ï¼ŸğŸ’«</h3>
      <div class="choices">
        <label class="choice">
          <input type="radio" name="q8" value="A">
          <span class="label">A. ä¸€ã¤ã®ã“ã¨ã‚’ã˜ã£ãã‚Šæ¥µã‚ã‚‹</span>
        </label>
        <label class="choice">
          <input type="radio" name="q8" value="B">
          <span class="label">B. ã„ã‚ã‚“ãªã“ã¨ã«åŒæ™‚ã«æŒ‘æˆ¦ã™ã‚‹</span>
        </label>
      </div>
    </section>

    <button id="run" class="btn primary">çµæœã‚’è¦‹ã‚‹</button>

    <div id="result"></div>
    <p class="note"></p>
  </div>

  <!-- ãƒ¢ãƒãƒ™ï¼ˆãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ï¼‰â†’ hidden checkbox ã¸åŒæœŸï¼ˆapp.jsäº’æ›ï¼‰ + å¹´é½¢è‡ªå‹•ç”Ÿæˆ -->
  <script>
    (function(){
      // å¹´é½¢ 12ã€œ35 ã‚’è‡ªå‹•æŒ¿å…¥
      const ageSel = document.getElementById('age');
      for(let a=12;a<=35;a++){ const o=document.createElement('option'); o.value=a; o.textContent=a; ageSel.appendChild(o); }

      // ãƒ¢ãƒãƒ™13é …ç›®ï¼ˆè¡¨ç¤ºãƒ†ã‚­ã‚¹ãƒˆï¼‰
      const MOTS = [
        ["é”æˆ","ãªã«ã‹ã‚’é”æˆã—ãŸã¨ãï¼ˆé”æˆæ„Ÿï¼‰"],
        ["æ‰¿èª","èªã‚ã‚‰ã‚ŒãŸã‚Šè¤’ã‚ã‚‰ã‚ŒãŸã¨ãï¼ˆæ‰¿èªï¼‰"],
        ["è²¢çŒ®","èª°ã‹ã®å½¹ã«ç«‹ã¦ãŸã¨ãï¼ˆè²¢çŒ®ï¼‰"],
        ["å®‰å¿ƒ","å®‰å¿ƒã§ãã‚‹ç’°å¢ƒãŒã‚ã‚‹ã¨ãï¼ˆå®‰å¿ƒï¼‰"],
        ["æ¢ç©¶","æ–°ã—ã„ã“ã¨ã‚’çŸ¥ã‚ŒãŸã¨ãï¼ˆæ¢ç©¶ï¼‰"],
        ["è‡ªç”±","è‡ªåˆ†ã®ã‚„ã‚Šæ–¹ã§è‡ªç”±ã«ã§ãã‚‹ã¨ãï¼ˆè‡ªç”±ï¼‰"],
        ["ä»²é–“","ä»²é–“ã¨ä¸€ç·’ã«å‹•ã‘ã‚‹ã¨ãï¼ˆä»²é–“ï¼‰"],
        ["æˆé•·","æˆé•·ã—ã¦ã„ã‚‹å®Ÿæ„ŸãŒã‚ã‚‹ã¨ãï¼ˆæˆé•·ï¼‰"],
        ["åå…¥","ã¡ã‚ƒã‚“ã¨ç¨¼ã’ã‚‹ãƒ»ãŠé‡‘ã«ã¤ãªãŒã‚‹ã¨ãï¼ˆåå…¥ï¼‰"],
        ["å½¹å‰²","è‡ªåˆ†ã®æ‹…å½“ãƒ»å½¹å‰²ãŒãƒãƒƒã‚­ãƒªã—ã¦ã„ã‚‹ã¨ãï¼ˆå½¹å‰²ï¼‰"],
        ["å¤‰åŒ–","å¤‰åŒ–ãŒã‚ã£ã¦ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹ã¨ãï¼ˆå¤‰åŒ–ï¼‰"],
        ["ç«¶äº‰","ãƒ©ã‚¤ãƒãƒ«ãŒã„ã¦ç‡ƒãˆã‚‹ã¨ãï¼ˆç«¶äº‰ï¼‰"],
        ["ä½¿å‘½","ã“ã‚Œã¯è‡ªåˆ†ã®ä½¿å‘½ã ã¨æ„Ÿã˜ã‚‹ã¨ãï¼ˆä½¿å‘½ï¼‰"]
      ];

      const selects = [document.getElementById('mot1'), document.getElementById('mot2'), document.getElementById('mot3')];
      const hiddenBoxWrap = document.getElementById('q3-hidden');

      // ã‚»ãƒ¬ã‚¯ãƒˆã¨hiddenãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’ç”Ÿæˆ
      function buildOptions(){
        // hidden checkbox
        hiddenBoxWrap.innerHTML = "";
        MOTS.forEach(([val])=>{
          const cb = document.createElement('input');
          cb.type = 'checkbox'; cb.name='q3'; cb.value=val;
          hiddenBoxWrap.appendChild(cb);
        });
        // selects
        selects.forEach(sel=>{
          // æ—¢å­˜ã®æœªé¸æŠä»¥å¤–ã‚’ã‚¯ãƒªã‚¢
          [...sel.options].forEach((op,i)=>{ if(i>0) sel.removeChild(op); });
          MOTS.forEach(([val, text])=>{
            const op = document.createElement('option');
            op.value = val; op.textContent = text;
            sel.appendChild(op);
          });
        });
      }

      function dedupeSelects(){
        const picked = new Set(selects.map(s=>s.value).filter(Boolean));
        selects.forEach(sel=>{
          Array.from(sel.options).forEach(op=>{
            if(!op.value) return;
            op.disabled = picked.has(op.value) && sel.value !== op.value;
          });
        });
      }
      function syncToHidden(){
        const hidden = hiddenBoxWrap.querySelectorAll('input[name="q3"]');
        hidden.forEach(cb=>{cb.checked=false;cb.dataset.order='';});
        const vals=selects.map(s=>s.value).filter(Boolean);
        let order=1;
        vals.forEach(v=>{
          const cb=[...hidden].find(c=>c.value===v);
          if(cb){cb.checked=true;cb.dataset.order=String(order++);}
        });
      }

      buildOptions();
      selects.forEach(sel=>sel.addEventListener('change',()=>{dedupeSelects();syncToHidden();}));
      dedupeSelects();syncToHidden();
    })();
  </script>

  <!-- LIFF SDK & App -->
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script src="/liff/app.js"></script>
</body>
</html>

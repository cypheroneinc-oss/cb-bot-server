// bot_server/lib/result-content.js
// 診断結果テキスト（完全版）
// ポリシー：向いてない職業は出さない / 職業には活かし方の短いblurbを併記
// 互換性：既存のCLUSTER_* APIは温存（画面はHERO_CONTENTを使う）

/* ================================
 * クラスタ（既存互換）
 * ================================ */
const CLUSTER_LABELS = {
  challenge: 'チャレンジ',
  creative: 'クリエイティブ',
  support: 'サポート',
  strategy: 'ストラテジー',
};

// 既存画面や他所参照の互換用。画面表示はHERO_CONTENTを使用する前提。
const CLUSTER_CONTENT = {
  challenge: {
    summary1line: '直感と行動で空気を切り開くフロントランナー。',
    strengths: ['初動が速い', '人前での牽引力', '未知にワクワクできる'],
    misfit_env: ['細かい手順の厳守だけを重視する現場', '自由度が極端に低い体制'],
    how_to_use: ['最初の火付け役を任せる', '0→1の検証タスクで先頭に置く', '議論の場で推進役を任命する'],
    next_action: ['今週、誰も手を出していない小タスクを自分発で提案→着手'],
  },
  creative: {
    summary1line: 'ひらめきと探究心で新しい景色を描くアイデアメーカー。',
    strengths: ['直感的な発想力', '試行錯誤を楽しむ粘り強さ', '感性で周囲を刺激する力'],
    misfit_env: ['正解が一つに決められた単調な仕事', '自由な試作が許されない環境'],
    how_to_use: ['ブレストや企画立ち上げの起爆剤にする', '試作品づくりや表現タスクを任せる', '学びのアウトプットを共有してもらう'],
    next_action: ['気になるアイデアを一つスケッチに起こしてチームに共有する'],
  },
  support: {
    summary1line: '共感と気配りで安心感をつくるチームの調律者。',
    strengths: ['相手の変化に気づく観察眼', '困りごとを拾う聞き役力', '裏側から支える段取り力'],
    misfit_env: ['競争だけを煽る評価制度', '個人プレーを強いるワンマン体制'],
    how_to_use: ['チームのハブ役やフォロー役を任せる', '新人や後輩のオンボーディングを任せる', '声を拾うファシリ役で活かす'],
    next_action: ['最近様子が気になるメンバーに声をかけ、短い対話時間をつくる'],
  },
  strategy: {
    summary1line: '俯瞰とロジックで道筋を描く現場の設計士。',
    strengths: ['物事を整理する構造化力', 'リスクを見抜く観察力', '安定運用を支える継続力'],
    misfit_env: ['計画を無視した場当たり的運営', '情報が曖昧なまま突き進むプロジェクト'],
    how_to_use: ['業務の標準化やルール整備を任せる', '判断材料を集めるリサーチ役にする', '中長期計画の進行管理を依頼する'],
    next_action: ['直近のタスクを棚卸しし、優先順位と手順を1枚にまとめて共有する'],
  },
};

/* ================================
 * ヒーロー基本情報（表示名・クラスタ・アバター）
 * ================================ */
const HERO_METADATA = {
  oda:            { name: '織田信長タイプ',             cluster: 'challenge', avatar: 'oda.png' },
  napoleon:       { name: 'ナポレオン・ボナパルトタイプ', cluster: 'challenge', avatar: 'napoleon.png' },
  ryoma:          { name: '坂本龍馬タイプ',               cluster: 'challenge', avatar: 'ryoma.png' },
  galileo:        { name: 'ガリレオ・ガリレイタイプ',     cluster: 'strategy',  avatar: 'galileo.png' },
  picasso:        { name: 'パブロ・ピカソタイプ',         cluster: 'creative',  avatar: 'picasso.png' },
  beethoven:      { name: 'ルートヴィヒ・ヴァン・ベートーヴェンタイプ', cluster: 'creative', avatar: 'beethoven.png' },
  murasaki:       { name: '紫式部タイプ',                 cluster: 'creative',  avatar: 'murasaki.png' },
  davinci:        { name: 'レオナルド・ダ・ヴィンチタイプ', cluster: 'creative', avatar: 'davinci.png' },
  mother_teresa:  { name: 'マザーテレサタイプ',           cluster: 'support',   avatar: 'mother_teresa.png' },
  nightingale:    { name: 'フローレンス・ナイチンゲールタイプ', cluster: 'support', avatar: 'nightingale.png' },
  rikyu:          { name: '千利休タイプ',                 cluster: 'strategy',  avatar: 'rikyu.png' },
  shotoku:        { name: '聖徳太子タイプ',               cluster: 'strategy',  avatar: 'shotoku.png' },
  date:           { name: '伊達政宗タイプ',               cluster: 'strategy',  avatar: 'date.png' },
  einstein:       { name: 'アルベルト・アインシュタインタイプ', cluster: 'strategy', avatar: 'einstein.png' },
  davinci:        { name: 'レオナルド・ダ・ヴィンチタイプ', cluster: 'creative', avatar: 'davinci.png' },
  ieyasu:         { name: '徳川家康タイプ',               cluster: 'strategy',  avatar: 'ieyasu.png' },
};
// NOTE: 渋沢栄一は要件外のため削除。全16名に絞り込み。

/* ================================
 * 画面表示用 本文データ（16名分）
 * - hero_copy / personality / scenes / tips / jobs.suited[{name, blurb}] / reactions
 * - 「向いてない職業」は持たない
 * ================================ */
const HERO_CONTENT = {
  ryoma: {
    hero_copy:
      '幕末の革新者。新しい時代を見据えて人と人を繋ぎ、日本を大きく動かしたビジョナリー。自由な発想とネットワーク力で未来を切り拓いた。',
    personality: {
      title: '未来を描いて人を動かすタイプ',
      paragraphs: [
        '新しい世界をイメージし、自由な発想で変化を求める。',
        '人と人を繋げるのが得意で、仲間と一緒に夢を語ることで行動力が増す。',
        'ただし、理想に走りすぎて地に足がつかないことも。',
        '計画や細かい管理は苦手で、アイデアを現実化する過程でつまずきやすい。',
      ],
    },
    scenes: [
      '新しいプロジェクトや企画を立ち上げるとき',
      '仲間を集めてチームを作るとき',
      '大きなビジョンを掲げて周りをワクワクさせる場面',
      '枠にとらわれない発想が求められるとき',
    ],
    tips: [
      '理想だけでなく「一歩目の行動」を決めると現実化しやすい',
      '細かい部分を補ってくれる仲間を持つとアイデアが形になる',
      'ビジョンを語るだけでなく、時には「自分が先頭で行動する」ことも大事',
    ],
    jobs: {
      suited: [
        { name: 'スタートアップ広報', blurb: 'ビジョンを言語化し、仲間と社会を巻き込む。' },
        { name: '国際NGO', blurb: 'ネットワークを活かし、共感で課題解決を進める。' },
        { name: '観光プランナー', blurb: '自由な発想で地域の魅力を編み直し、外へ届ける。' },
        { name: '広告コピーライター', blurb: '未来像を言葉にし、人を動かす物語をつくる。' },
        { name: 'VCスカウト', blurb: '志ある人を見つけ繋ぎ、次の時代を形にする。' },
      ],
    },
    reactions: [
      '織田信長 × 龍馬 → 「ビジョン × 突破」で一気に未来が進む',
      'ガリレオ × 龍馬 → 「未来構想 × 論理」で説得力ある改革ができる',
      '豊臣秀吉 × 龍馬 → 「ビジョン × 人望」で人が自然と巻き込まれる',
    ],
  },

  oda: {
    hero_copy: '戦国のカリスマ。常識を壊し、新しい流れを次々に生んだ革命児。',
    personality: {
      title: '「とりあえずやってみる」で世界を動かすタイプ',
      paragraphs: [
        '常識やルールを疑い、思いついたらすぐ行動！',
        'その勢いに周りが巻き込まれて、気づけばあなたが中心にいることも多い。',
        'ただしスピード感が強すぎて、反発や誤解を招くことも。',
        '短距離ダッシュは得意だけど、長距離マラソンは苦手。',
      ],
    },
    scenes: [
      'アイディアを溜め込まず、どんどん発信しよう',
      '文化祭やイベントで「新しい企画」にこだわろう',
      '勝負どころで一歩踏み出す勇気が、周りを巻き込む力になる',
    ],
    tips: [
      '長期戦や計画が得意な仲間と組み、ゴールを見える化する',
      '勢い任せになりがちなので「笑顔と余裕」を意識する',
      '周りの意見を聞く小休止が、さらに良いアイデアを生む',
    ],
    jobs: {
      suited: [
        { name: 'イベントプロデューサー', blurb: '突破力で新機軸を打ち出し、現場を牽引。' },
        { name: '広告プランナー', blurb: '話題を生む企画で空気を一変させる。' },
        { name: '新規事業企画', blurb: '0→1の混沌でスピードを武器に前進。' },
        { name: '配信者/YouTuber', blurb: '発信の初速と企画力でファンを巻き込む。' },
        { name: '新規開拓営業', blurb: '躊躇なく扉を叩き、機会を切り開く。' },
      ],
    },
    reactions: [
      '徳川家康 × 信長 → 「突破力 × 安定」で大挑戦を現実に',
      'ナイチンゲール × 信長 → 「勢い × 段取り」で企画が成功',
      '坂本龍馬 × 信長 → 「革新 × ビジョン」で未来を切り拓く',
    ],
  },

  date: {
    hero_copy:
      '独眼竜の異名を持つ戦国大名。大胆な野心とカリスマで勢力を拡大し、派手な装いとセンスで存在感を放った。',
    personality: {
      title: '野心と個性で自分の道を切り拓くタイプ',
      paragraphs: [
        '大きな目標に挑み、強い自己表現で人を惹きつける。',
        '独自のセンスやプライドを大切にし、他と違う存在感を残す。',
        'プライドが高すぎると孤立や燃え尽きのリスクも。',
        '派手さ先行と見られないよう、過程と中身も磨く。',
      ],
    },
    scenes: [
      '大規模プロジェクトのリード',
      '自身のセンスを前面に出すブランディング業務',
      '「ここぞ」の勝負どころで一歩踏み出す',
      '強い印象を残す登壇・PRの場面',
    ],
    tips: [
      '弱さを見せる余白が、むしろ人を惹きつける',
      '過程を大切にする仲間と組み、安定感を得る',
      '個人の野心を「共有できる目標」に変換する',
    ],
    jobs: {
      suited: [
        { name: 'ブランド/PRディレクター', blurb: '世界観構築と存在感で惹きつける。' },
        { name: 'スポーツエージェント', blurb: '交渉と看板づくりで価値を高める。' },
        { name: '芸能マネージャー', blurb: '個性の魅せ方を設計し、機会を拡大。' },
        { name: '外資系コンサル', blurb: '大胆な提案と推進で変革を主導。' },
      ],
    },
    reactions: [
      '豊臣秀吉 × 政宗 → 「カリスマ × 人懐っこさ」で人が集まる',
      '徳川家康 × 政宗 → 「野心 × 計画」で夢が現実に近づく',
      '千利休 × 政宗 → 「派手さ × 美意識」で独創的ブランドが生まれる',
    ],
  },

  napoleon: {
    hero_copy:
      'フランス革命後に登場し、欧州を制した稀代の軍人・政治家。圧倒的な行動力と野心で帝位に上り詰めた。',
    personality: {
      title: '行動と野心で道を切り拓くタイプ',
      paragraphs: [
        '競争や逆境に強く、リスクを恐れず決断する。',
        '勝負所で前に出て、存在感で周囲を動かす。',
        '独断的になりすぎると信頼を損なうリスク。',
        '敗北の受容が次の飛躍に繋がる。',
      ],
    },
    scenes: [
      '大規模挑戦のリーダー',
      '強いプレッシャー下で結果が要る場面',
      '実力主義の競争環境',
      '短期決断が勝敗を分ける局面',
    ],
    tips: [
      '仲間の信頼を最優先のKPIに置く',
      '「自分がやる」から「人を活かす」へ視点を広げる',
      '負けや失敗の振り返りを定例化する',
    ],
    jobs: {
      suited: [
        { name: 'トップセールス（外資）', blurb: '逆境で燃え、数字で示す。' },
        { name: 'プロスポーツ監督', blurb: '勝負勘と統率力でチームを率いる。' },
        { name: '政治秘書', blurb: '決断の現場で前へ出し、結果を取りに行く。' },
        { name: 'マーケット・トレーダー', blurb: '短期判断で機会を掴む。' },
      ],
    },
    reactions: [
      '豊臣秀吉 × ナポレオン → 「支配力 × 人望」で大組織が動く',
      '坂本龍馬 × ナポレオン → 「行動力 × ビジョン」で社会を動かす',
      '徳川家康 × ナポレオン → 「勝負勘 × 戦略」で無謀が勝算に変わる',
    ],
  },

  toyotomi_hideyoshi: {
    hero_copy:
      '人たらしの天才。身分の壁を越えて人心をつかみ、戦国の頂点へ。人懐っこさと柔軟さで環境を味方にできる。',
    personality: {
      title: '人を笑顔にすることで世界を動かすタイプ',
      paragraphs: [
        '誰とでもすぐに打ち解け、空気を読むのが得意。',
        '気配りとサービス精神で安心感をつくる。',
        '合わせすぎは疲労と信頼低下に繋がることも。',
        '長期の軸を持つことで調子の良さに一貫性が出る。',
      ],
    },
    scenes: [
      '場づくり・盛り上げ役',
      '初対面の関係構築',
      'チーム内調整の橋渡し',
      '人を惹きつける企画運営',
    ],
    tips: [
      '本音を言語化し、境界線を設定する',
      '一貫性のある約束を守り信頼を積む',
      '堅実な相棒と長期ゴールを共有する',
    ],
    jobs: {
      suited: [
        { name: '人事/採用', blurb: '出会いを設計し、信頼を育てる。' },
        { name: '飲食店マネージャー', blurb: '場づくりと接客でファンを増やす。' },
        { name: 'ツアーコンダクター', blurb: '臨機応変に体験価値を高める。' },
        { name: '住宅販売営業', blurb: '安心と期待を並走させ、意思決定を支援。' },
        { name: 'TVディレクター（バラエティ）', blurb: '人の魅力を引き出し、場を回す。' },
      ],
    },
    reactions: [
      '伊達政宗 × 秀吉 → 「野心 × 人望」でスケールする',
      '紫式部 × 秀吉 → 「感性 × 人望」で人に響く企画',
      'ベートーヴェン × 秀吉 → 「情熱 × 人懐っこさ」で困難を力に',
    ],
  },

  ieyasu: {
    hero_copy:
      '戦国を制した“我慢と計画の人”。派手さはなくとも着実に準備を進め、長期戦で最終的勝利をつかんだ。',
    personality: {
      title: 'じっくり積み上げて最後に勝つタイプ',
      paragraphs: [
        '自分のペースを守り、慎重に行動できる。',
        '計画性と安定判断で信頼を集める。',
        '慎重すぎて機会を逃すことがある。',
        '小さなチャレンジで視野を広げると良い。',
      ],
    },
    scenes: [
      '大きな計画をコツコツ進める',
      'リスクを抑えつつ成果を出す',
      'チームのブレーキ役や軸を担う',
      '忍耐が問われる長期戦の現場',
    ],
    tips: [
      '「ここぞ」での決断を練習する',
      '速い仲間の勢いに乗る局面を作る',
      '過剰な計画化をやめ、試行の数を増やす',
    ],
    jobs: {
      suited: [
        { name: '銀行/融資', blurb: 'リスク評価と着実な支援で地域を支える。' },
        { name: '保険アドバイザー', blurb: '長期視点で暮らしを守る提案に信頼が集まる。' },
        { name: '財務・経理管理職', blurb: '資金と統制で組織の土台を固める。' },
        { name: '自治体/学校事務', blurb: '安定運用と仕組み化で地域を支える。' },
      ],
    },
    reactions: [
      '織田信長 × 家康 → 「突破 × 安定」で持続する成果',
      '聖徳太子 × 家康 → 「秩序 × 計画」で仕組み化',
      'マザーテレサ × 家康 → 「安定 × 愛」で人を守りながら前進',
    ],
  },

  shotoku: {
    hero_copy:
      '十七条憲法を定め、仏教を取り入れ、和の精神で国の基盤を築いたリーダー。調和と組織化の象徴。',
    personality: {
      title: '全体を見渡し、調和を重んじるタイプ',
      paragraphs: [
        '対立を避け、皆が動ける環境を整える。',
        '制度・ルールづくりで長期安定を実現する視点。',
        '調和を優先しすぎると自己主張が弱くなる。',
        'スピード勝負では出遅れやすい面もある。',
      ],
    },
    scenes: [
      '組織やチームをまとめる立場',
      'ルールや仕組みを整える',
      '多様な意見を取り入れて方向性を決める',
      '長期ビジョンで安定を築く',
    ],
    tips: [
      '調和だけでなく意見を明確に示す',
      '挑戦型の相棒と組んで変化を取り込む',
      '制度だけでなく「気持ち」を設計に織り込む',
    ],
    jobs: {
      suited: [
        { name: '学校教頭/学生支援', blurb: '多様な声を束ね、学内の安心をつくる。' },
        { name: '市役所政策・労務', blurb: '制度設計で地域運営を安定化。' },
        { name: '社労士', blurb: '法と運用の橋渡しで現場に秩序を。' },
        { name: '大学職員（相談窓口）', blurb: '調和的な場づくりで成長を支える。' },
      ],
    },
    reactions: [
      '徳川家康 × 太子 → 「長期計画 × 制度」で安定した未来',
      '織田信長 × 太子 → 「革新 × 調和」で新文化が根付く',
      'マザーテレサ × 太子 → 「制度 × 奉仕」で人を守る仕組み',
    ],
  },

  mother_teresa: {
    hero_copy:
      '世界中の貧しい人々を支え続けた「愛の象徴」。無償の奉仕と信念で人々に希望を与えた。',
    personality: {
      title: '人のために尽くし、愛で動くタイプ',
      paragraphs: [
        '困っている人を放っておけず、自然に支え役になる。',
        '共感力が高く、心を温める存在として信頼される。',
        '自己犠牲が過ぎると疲弊しやすい。',
        '「自分の幸せ」を同じくらい大切にする視点を持つ。',
      ],
    },
    scenes: [
      '支援が必要な現場での伴走',
      '弱い立場を守る活動',
      'チームに安心感を生む役割',
      '教育・福祉・NPOの場',
    ],
    tips: [
      '手助けしすぎず、任せる勇気も持つ',
      '献身を「仕組み」にして拡張する',
      '定期的にセルフケアの時間を確保する',
    ],
    jobs: {
      suited: [
        { name: '教育・保育', blurb: '成長を見守り、安心を育む。' },
        { name: '医療・看護・介護', blurb: '寄り添いと実務で命を支える。' },
        { name: '福祉/NPO/相談員', blurb: '制度と現場をつなぎ、生活を支える。' },
        { name: '人事/カウンセラー', blurb: '心の支えとなり、働きやすさを整える。' },
      ],
    },
    reactions: [
      '豊臣秀吉 × マザーテレサ → 「優しさ × 人望」で温かいコミュニティ',
      '織田信長 × マザーテレサ → 「愛 × 挑戦」で変化と安心',
      'ガリレオ × マザーテレサ → 「信念 × 論理」で説得力ある支援',
    ],
  },

  rikyu: {
    hero_copy:
      '茶道を大成させた美意識の巨匠。「わび・さび」で日本の美の価値観を根付かせた。',
    personality: {
      title: '本質を見抜き、シンプルに整えるタイプ',
      paragraphs: [
        '派手さより内側の価値と雰囲気を大切にする。',
        '余分を削ぎ落とす美意識で混乱を整える。',
        'こだわりが強すぎると「頑固」に映ることも。',
        '伝わる形で共有する工夫が鍵。',
      ],
    },
    scenes: [
      'デザイン/アートの審美が問われる場',
      '空間づくりやトーン調整',
      '複雑な状況の要素整理',
      '本質を見極める選択が必要な場面',
    ],
    tips: [
      '価値観の押し付けを避け、翻訳を心がける',
      '時に派手な刺激も取り入れバランスを取る',
      'プロトタイプで「伝わる実例」を見せる',
    ],
    jobs: {
      suited: [
        { name: 'インテリア/建築デザイン', blurb: '余白と素材で空間の芯を作る。' },
        { name: '編集者/情報設計', blurb: '要点抽出で本質を伝える。' },
        { name: '和菓子/料理研究', blurb: '簡素の美を味に落とし込む。' },
        { name: '茶道/伝統文化指導', blurb: '美意識を体系化し継承する。' },
      ],
    },
    reactions: [
      '伊達政宗 × 利休 → 「派手さ × 美意識」で独創が洗練',
      '紫式部 × 利休 → 「美意識 × 感性」で繊細な表現',
      '徳川家康 × 利休 → 「安定 × 美意識」で持続する文化',
    ],
  },

  murasaki: {
    hero_copy:
      '『源氏物語』の巨匠。繊細な感性と洞察力で人の心を描き、千年後も読み継がれる物語を残した。',
    personality: {
      title: '感性で心を描き、言葉で伝えるタイプ',
      paragraphs: [
        '人の気持ちや空気を敏感に捉え、表現に変えられる。',
        '深い共感と想像力で「裏側」や「本音」を読み解く。',
        '敏感さゆえ疲れやすく、思索偏重になりがち。',
        '行動や数字に強い仲間と組むと前進が加速。',
      ],
    },
    scenes: [
      '文章・デザインなど表現で心を動かす',
      '気持ちを代弁し共感を届ける',
      '言語化しづらい感情の整理',
      '文化や芸術に携わる場面',
    ],
    tips: [
      '作品として形に残すことが最大の防御であり武器',
      '信頼できる人に定期的に共有して心を軽くする',
      '実務派とのペアで成果に繋げる',
    ],
    jobs: {
      suited: [
        { name: '作家/ライター', blurb: '感情を言葉で掬い上げる。' },
        { name: '編集/広報', blurb: '他者の想いを代弁し伝播させる。' },
        { name: 'デザイナー/アーティスト', blurb: '感性を表現に転換する。' },
        { name: 'カウンセラー', blurb: '心の声を受け止める。' },
      ],
    },
    reactions: [
      'ベートーヴェン × 紫式部 → 「情熱 × 感性」で心を揺さぶる',
      '織田信長 × 紫式部 → 「突破 × 感性」で感性が現実に動く',
      'ダ・ヴィンチ × 紫式部 → 「観察 × 感性」で人に響く作品',
    ],
  },

  beethoven: {
    hero_copy:
      '楽聖。困難を抱えながらも情熱と信念で創造し続けた。不屈の精神が特徴。',
    personality: {
      title: '情熱で壁を乗り越えるタイプ',
      paragraphs: [
        '想いをエネルギーに変え、表現や行動に注ぐ。',
        '逆境に強く、最後までやり切る粘りがある。',
        '理想が強すぎると周囲と衝突することも。',
        '感情は言葉や形で整理して伝えると共感が増す。',
      ],
    },
    scenes: [
      '作品や表現で想いを届ける',
      '熱量で周囲を鼓舞する',
      '困難な状況でも挑み続ける',
      '音楽・芸術・創造領域',
    ],
    tips: [
      '協力者と歩調合わせのリズムを共有する',
      '「続ける仕組み」を作り長期成果へ繋ぐ',
      '定期的にクールダウンして視野を保つ',
    ],
    jobs: {
      suited: [
        { name: '音楽家/指導', blurb: '情熱を作品・教育に昇華。' },
        { name: '俳優/映画監督', blurb: '表現で感情を伝播させる。' },
        { name: 'スポーツトレーナー', blurb: '鼓舞と継続で成果を引き出す。' },
        { name: '熱血系インストラクター', blurb: '熱意で行動変容を起こす。' },
      ],
    },
    reactions: [
      'ピカソ × ベートーヴェン → 「独創 × 情熱」で新表現',
      '秀吉 × ベートーヴェン → 「情熱 × 人望」で大勢を動かす',
      '紫式部 × ベートーヴェン → 「感性 × 情熱」で心を揺さぶる作品',
    ],
  },

  picasso: {
    hero_copy:
      '20世紀美術の革命児。常識にとらわれない発想と創造力で新しい芸術を次々に生んだ。',
    personality: {
      title: '型破りな発想で新しいものを生むタイプ',
      paragraphs: [
        '誰も考えないアイデアを形にできる自由さ。',
        '「普通」に縛られず直感で動ける。',
        '気分屋で一貫性が弱まる時がある。',
        '締切とゴール意識が力を解放する鍵。',
      ],
    },
    scenes: [
      '新しい企画・デザイン発想',
      '自由が歓迎されるクリエイティブ現場',
      '凝り固まった視点を壊す提案',
      '作品を通じて影響を与える',
    ],
    tips: [
      '最後まで形に残す仕組みを用意する',
      '伝わるフォーマットで共有する',
      '実行派の仲間とタッグを組む',
    ],
    jobs: {
      suited: [
        { name: 'グラフィック/プロダクトデザイナー', blurb: '独創をプロダクトに落とす。' },
        { name: '映像クリエイター', blurb: '視覚体験で常識を塗り替える。' },
        { name: '広告コピー/企画', blurb: '発想で人の注意を奪う。' },
        { name: 'ゲームキャラデザイン', blurb: '世界観と造形で没入を作る。' },
      ],
    },
    reactions: [
      'ガリレオ × ピカソ → 「自由発想 × 実証」で実現可能な革新',
      'ベートーヴェン × ピカソ → 「独創 × 情熱」で強い表現',
      '伊達政宗 × ピカソ → 「センス × 独創」で強烈なブランド',
    ],
  },

  galileo: {
    hero_copy:
      '近代科学の父。観察と実験で常識を覆し、真理を追い続けた探究者。',
    personality: {
      title: '真理を探し、理屈で納得したいタイプ',
      paragraphs: [
        '直感ではなくデータと論理で判断する。',
        '観察眼と分析力で「なぜ？」を突き詰める。',
        '正しさだけでは人は動かないことも学ぶと強い。',
        '伝え方の設計が説得力を最大化する。',
      ],
    },
    scenes: [
      '実験/検証が必要な研究',
      '問題を整理し答えを導く分析業務',
      '根拠ベースのプレゼン',
      '前提を問い直すレビュー',
    ],
    tips: [
      '相手の気持ちも考慮して構成する',
      '可視化と比喩で伝達効率を上げる',
      '直感型の相棒と組みバランスを取る',
    ],
    jobs: {
      suited: [
        { name: '理工系研究', blurb: '仮説と実証で知を前進させる。' },
        { name: 'データアナリスト', blurb: '意思決定を数で支える。' },
        { name: 'システムエンジニア', blurb: 'ロジックを形に落とす。' },
        { name: '製薬R&D', blurb: '安全と効果を実験で示す。' },
      ],
    },
    reactions: [
      'ピカソ × ガリレオ → 「自由発想 × 実証」で革新が実現',
      '坂本龍馬 × ガリレオ → 「未来構想 × 論理」で改革に説得力',
      'マザーテレサ × ガリレオ → 「論理 × 信念」で社会を変える',
    ],
  },

  davinci: {
    hero_copy:
      '万能の天才。絵画・建築・科学・発明など多分野で才能を発揮し、ルネサンスを象徴した。',
    personality: {
      title: '好奇心で世界を広げるマルチプレイヤー',
      paragraphs: [
        '興味に次々挑戦し、多方面で才能を発揮できる。',
        '異分野をつなげ新発想を生むのが得意。',
        '広げすぎると中途半端で終わることも。',
        '成果物として残す意識が信頼を生む。',
      ],
    },
    scenes: [
      '分野横断の企画/設計',
      '新しい仕組みの構想',
      'アート×サイエンスの掛け合わせ',
      '観察と改善サイクルの推進',
    ],
    tips: [
      '実行力のある仲間と組んで前進速度を上げる',
      '集中領域を一つ決めて深度を作る',
      '完成シグナルの定義を先に置く',
    ],
    jobs: {
      suited: [
        { name: 'UXデザイナー', blurb: '観察×発想で体験設計。' },
        { name: '建築設計', blurb: '美と機能を統合し形に。' },
        { name: 'プロダクトマネージャー', blurb: '分野横断で価値を編成。' },
        { name: '医療機器開発', blurb: '工学と人体理解を接続。' },
        { name: '展示/キュレーション', blurb: '異分野を結び新しい視点を提示。' },
      ],
    },
    reactions: [
      'アインシュタイン × ダ・ヴィンチ → 「独創理論 × 多才」で未来の発明',
      '秀吉 × ダ・ヴィンチ → 「人望 × 多才」で幅広い企画が実現',
      '紫式部 × ダ・ヴィンチ → 「感性 × 観察」で心を動かす作品',
    ],
  },

  einstein: {
    hero_copy:
      '相対性理論で物理学を革新。常識を疑い、当たり前を独自の視点で考え抜いた探究者。',
    personality: {
      title: '独創的な発想で真理を追い求めるタイプ',
      paragraphs: [
        '鋭い直感と洞察で本質を見抜く。',
        '「もしこうだったら？」を徹底的に考え抜く。',
        '理論に没頭しすぎると現実から離れることも。',
        '発想は共有してこそ価値になる。',
      ],
    },
    scenes: [
      '新理論や新機構の構想',
      'ユニークな角度からの問題解決',
      '常識を壊す価値観の提示',
      '図解や言葉での概念伝達',
    ],
    tips: [
      '実行力のある仲間と組み形にする',
      'ユーモアと遊び心で受容性を上げる',
      '小さな実験で検証サイクルを速める',
    ],
    jobs: {
      suited: [
        { name: '物理研究/アカデミア', blurb: '理論で世界像を更新。' },
        { name: 'AI研究開発', blurb: '仮説と検証で新能力を創出。' },
        { name: '特許/知財', blurb: '発明の価値を見抜き守る。' },
        { name: '科学メディア編集', blurb: '難解を平易に翻訳し広める。' },
      ],
    },
    reactions: [
      'ガリレオ × アインシュタイン → 「直感 × 論理」で実証が進む',
      'ダ・ヴィンチ × アインシュタイン → 「多才 × 独創」で発明が形に',
      '紫式部 × アインシュタイン → 「理論 × 感性」で世界観が広がる',
    ],
  },

  nightingale: {
    hero_copy:
      '看護の母。献身と綿密な準備で人々を救い、医療・衛生の仕組みを改革した実践者。',
    personality: {
      title: '人を支え、安心をつくるタイプ',
      paragraphs: [
        '痛みや困りごとに敏感で細やかな配慮ができる。',
        '段取り上手で準備と管理をコツコツ進められる。',
        '責任感が強すぎると抱え込みがち。',
        '「自分の意見」を持つことで存在感が増す。',
      ],
    },
    scenes: [
      '裏方/サポート役としてチームを支える',
      'イベントやプロジェクトの進行管理',
      'トラブル時の冷静な対処',
      '安心して動ける環境づくり',
    ],
    tips: [
      '限界を越えないラインを事前に決める',
      'フォロワーだけでなく時にリーダーも経験する',
      '仕組み化で支援の面積を広げる',
    ],
    jobs: {
      suited: [
        { name: '看護・医療系', blurb: '患者に寄り添い命を支える。あなたの段取り力が光る。' },
        { name: '学校保健/保健師', blurb: '日常の安心を設計し見守る。' },
        { name: 'プロジェクトマネージャー', blurb: '段取りで混乱を整える。' },
        { name: '学校/病院 事務', blurb: '現場を支える仕組みを運営。' },
      ],
    },
    reactions: [
      '徳川家康 × ナイチンゲール → 「計画 × 段取り」で安定した仕組み',
      '織田信長 × ナイチンゲール → 「突破 × 準備」で大胆な挑戦が成功',
      'マザーテレサ × ナイチンゲール → 「支え合い × 段取り」で優しい仕組み',
    ],
  },
};

/* ================================
 * ユーティリティ／エクスポート
 * ================================ */
function trimTrailingSlash(value) {
  return value ? value.replace(/\/$/, '') : '';
}

function buildAvatarUrl(slug, avatar) {
  if (!slug) return null;
  const explicit = avatar ?? '';
  if (explicit.startsWith('http://') || explicit.startsWith('https://')) {
    return explicit;
  }
  const base = trimTrailingSlash(
    process.env.HERO_CDN_BASE_URL ?? process.env.CDN_BASE_URL ?? ''
  );
  if (base) {
    const path = explicit ? explicit.replace(/^\//, '') : `${slug}.png`;
    return `${base}/heroes/${path}`;
  }
  const label = encodeURIComponent(slug);
  return `https://placehold.co/512x512?text=${label}`;
}

export function getClusterLabel(cluster) {
  return CLUSTER_LABELS[cluster] ?? cluster ?? '';
}

// 既存：基本プロフィール（名前・クラスタ・アバターURL）
export function getHeroProfile(slug) {
  const meta = HERO_METADATA[slug] ?? {
    name: `${slug ?? '不明'}タイプ`,
    cluster: 'challenge',
    avatar: `${slug ?? 'unknown'}.png`,
  };
  return {
    slug,
    name: meta.name,
    cluster: meta.cluster,
    avatarUrl: buildAvatarUrl(slug, meta.avatar),
  };
}

// 新規：ヒーロー本文（画面表示はこっちを使う）
export function getHeroNarrative(slug) {
  const data = HERO_CONTENT[slug];
  if (!data) {
    return {
      hero_copy: '',
      personality: { title: '', paragraphs: [] },
      scenes: [],
      tips: [],
      jobs: { suited: [] },
      reactions: [],
    };
  }
  return data;
}

// 既存互換：クラスター本文（旧UIが参照しても落ちない）
export function getClusterNarrative(cluster) {
  return CLUSTER_CONTENT[cluster] ?? {
    summary1line: '',
    strengths: [],
    misfit_env: [],
    how_to_use: [],
    next_action: [],
  };
}

export default {
  getClusterLabel,
  getClusterNarrative,
  getHeroProfile,
  getHeroNarrative,
};
